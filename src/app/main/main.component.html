<div class="main">
  <h1>Todo app</h1>
  <button type="button" (click)="createTodo()">create Todo</button>
</div>

<ng-container *ngIf="isEdit || isCreated">
  <app-modal-window
    [isEdit]="isEdit"
    [isCreated]="isCreated"
    [currentTodo]="currentTodo"
    (makeChange)="refresh($event)"
    (makeChange)="refreshCreated($event)"
  ></app-modal-window
></ng-container>

<div *ngIf="todos.length; else elseBlock" class="list">
  <div class="sort-wrapper">
    <button type="button" (click)="sort()">
      {{ isSorted ? 'back to all' : 'show only done todos' }}
    </button>
  </div>

  <div class="todo-wrapper">
    <app-todo-card
      [isEdit]="isEdit"
      [todo]="todo"
      (makeChange)="refresh($event)"
      (todoEmit)="currentTodoEmit($event)"
      *ngFor="let todo of todos | filterByDone: isSorted"
    >
    </app-todo-card>
  </div>
</div>

<ng-template #elseBlock>
  <div class="list">no todos are currently in the list</div>
</ng-template>
